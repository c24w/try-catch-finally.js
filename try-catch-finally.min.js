// try-catch-finally.js | http://j.mp/t-c-f
!function(r,t){"use strict";"function"==typeof define&&define.amd?define("try-catch-finally",[],t):"object"==typeof module&&module.exports?module.exports=t():r["try"]=r._try=t()}(this,function(r){"use strict";function t(r,t){if("string"!=typeof t)return!1;var n=Object.prototype.toString.call(r).toLowerCase();return n==="[object "+t.toLowerCase()+"]"}function n(t,n){var e=void 0!==t&&null!==t;return e&&"function"==typeof n?r(t)instanceof n:void 0}return function(r){function e(){return"error"in u}function o(){delete u.error}function i(r){return u.error===r||t(u.error,r)||n(u.error,r)}var u={};try{r&&r()}catch(c){u.error=c}var f={"catch":function(r,t){var n=arguments.length>0&&e()&&(void 0===t||i(r));return n&&(t=t||r,t(u.error),o()),f},"finally":function(r){if(r&&r(),e())throw u.error}};return f}}.bind(null,function(r){return function(){return this}.call(r)}));